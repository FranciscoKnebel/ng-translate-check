#!/usr/bin/env node
'use strict';function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}var events=_interopDefault(require("events")),child_process=_interopDefault(require("child_process")),path=_interopDefault(require("path")),fs$2=require("fs"),fs$2__default=_interopDefault(fs$2),util=_interopDefault(require("util")),os=_interopDefault(require("os")),Stream=_interopDefault(require("stream"));function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e["default"]||e}var commander=createCommonjsModule(function(e,t){var d=Math.max;function n(e,t){this.flags=e,this.required=0<=e.indexOf("<"),this.optional=0<=e.indexOf("["),this.negate=-1!==e.indexOf("-no-"),e=e.split(/[ ,|]+/),1<e.length&&!/^[[<]/.test(e[1])&&(this.short=e.shift()),this.long=e.shift(),this.description=t||""}function a(e){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=e||"",this._helpFlags="-h, --help",this._helpDescription="output usage information",this._helpShortFlag="-h",this._helpLongFlag="--help"}function s(e){return e.split("-").reduce(function(e,t){return e+t[0].toUpperCase()+t.slice(1)})}function r(e,t){var n=d(0,t-e.length);return e+Array(n+1).join(" ")}function i(e,t){t=t||[];for(var n=0;n<t.length;n++)(t[n]===e._helpLongFlag||t[n]===e._helpShortFlag)&&(e.outputHelp(),process.exit(0))}function o(e){var t=e.name+(!0===e.variadic?"...":"");return e.required?"<"+t+">":"["+t+"]"}function l(e){try{if(fs$2__default.statSync(e).isFile())return!0}catch(t){return!1}}function p(e){return e.map(e=>{var t=e;if(0===e.indexOf("--inspect")){var n,a,s="127.0.0.1",r="9229";null===(a=e.match(/^(--inspect(-brk)?)$/))?null===(a=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?null!==(a=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(n=a[1],s=a[3],r=a[4]):(n=a[1],/^\d+$/.test(a[3])?r=a[3]:s=a[3]):n=a[1],n&&"0"!==r&&(t=`${n}=${s}:${parseInt(r)+1}`)}return t})}var u=events.EventEmitter,c=child_process.spawn,_=path.dirname,g=path.basename;util.inherits(a,u),t=e.exports=new a,t.Command=a,t.Option=n,n.prototype.name=function(){return this.long.replace(/^--/,"")},n.prototype.attributeName=function(){return s(this.name().replace(/^no-/,""))},n.prototype.is=function(e){return this.short===e||this.long===e},a.prototype.command=function(e,t,n){var s=t,r=n;"object"==typeof s&&null!==s&&(r=s,s=null),r=r||{};var i=e.split(/ +/),o=new a(i.shift());return s&&(o.description(s),this.executables=!0,this._execs[o._name]=!0,r.isDefault&&(this.defaultExecutable=o._name)),o._noHelp=!!r.noHelp,o._helpFlags=this._helpFlags,o._helpDescription=this._helpDescription,o._helpShortFlag=this._helpShortFlag,o._helpLongFlag=this._helpLongFlag,o._executableFile=r.executableFile,this.commands.push(o),o.parseExpectedArgs(i),o.parent=this,s?this:o},a.prototype.arguments=function(e){return this.parseExpectedArgs(e.split(/ +/))},a.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},a.prototype.parseExpectedArgs=function(e){if(e.length){var t=this;return e.forEach(function(e){var n={required:!1,name:"",variadic:!1};switch(e[0]){case"<":n.required=!0,n.name=e.slice(1,-1);break;case"[":n.name=e.slice(1,-1);}3<n.name.length&&"..."===n.name.slice(-3)&&(n.variadic=!0,n.name=n.name.slice(0,-3)),n.name&&t._args.push(n)}),this}},a.prototype.action=function(e){var t=this,n=function(n,a){n=n||[],a=a||[];var s=t.parseOptions(a);i(t,s.unknown),0<s.unknown.length&&t.unknownOption(s.unknown[0]),s.args.length&&(n=s.args.concat(n)),t._args.forEach(function(e,a){e.required&&null==n[a]?t.missingArgument(e.name):e.variadic&&(a!==t._args.length-1&&t.variadicArgNotLast(e.name),n[a]=n.splice(a))}),t._args.length?n[t._args.length]=t:n.push(t),e.apply(t,n)},a=this.parent||this,s=a===this?"*":this._name;return a.on("command:"+s,n),this._alias&&a.on("command:"+this._alias,n),this},a.prototype.option=function(e,t,a,s){var r=this,i=new n(e,t),o=i.name(),l=i.attributeName();if("function"!=typeof a)if(a instanceof RegExp){var p=a;a=function(e,t){var n=p.exec(e);return n?n[0]:t}}else s=a,a=null;if(i.negate||i.optional||i.required||"boolean"==typeof s){if(i.negate){var d=r.opts();s=!Object.prototype.hasOwnProperty.call(d,l)||d[l]}void 0!==s&&(r[l]=s,i.defaultValue=s)}return this.options.push(i),this.on("option:"+o,function(e){null!==e&&a&&(e=a(e,void 0===r[l]?s:r[l])),"boolean"==typeof r[l]||"undefined"==typeof r[l]?null==e?r[l]=!i.negate&&(s||!0):r[l]=e:null!==e&&(r[l]=!i.negate&&e)}),this},a.prototype.allowUnknownOption=function(e){return this._allowUnknownOption=0===arguments.length||e,this},a.prototype.parse=function(e){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=e,this._name=this._name||g(e[1],".js"),this.executables&&3>e.length&&!this.defaultExecutable&&e.push(this._helpLongFlag);var t=this.normalize(e.slice(2)),n=this.parseOptions(t),a=this.args=n.args,s=this.parseArgs(this.args,n.unknown),r=s.args[0],i=null;return r&&(i=this.commands.find(function(e){return e._name===r})),!i&&r&&(i=this.commands.find(function(e){return e.alias()===r}),i&&(r=i._name,a[0]=r)),!i&&this.defaultExecutable&&(r=this.defaultExecutable,a.unshift(r),i=this.commands.find(function(e){return e._name===r})),this._execs[r]&&"function"!=typeof this._execs[r]?this.executeSubCommand(e,a,n.unknown,i?i._executableFile:void 0):s},a.prototype.executeSubCommand=function(e,t,n,a){t=t.concat(n),t.length||this.help(),"help"===t[0]&&1===t.length&&this.help(),"help"===t[0]&&(t[0]=t[1],t[1]=this._helpLongFlag);var s=!1,r=e[1],i=g(r,path.extname(r))+"-"+t[0];if(null!=a){i=a;var o=path.extname(a);s=".js"===o||".ts"===o||".mjs"===o}var d,u=fs$2__default.realpathSync(r);d=_(u);var h=path.join(d,i);l(h+".js")?(i=h+".js",s=!0):l(h+".ts")?(i=h+".ts",s=!0):l(h+".mjs")?(i=h+".mjs",s=!0):l(h)&&(i=h),t=t.slice(1);var m;"win32"===process.platform?(t.unshift(i),t=p(process.execArgv).concat(t),m=c(process.execPath,t,{stdio:"inherit"})):s?(t.unshift(i),t=p(process.execArgv).concat(t),m=c(process.argv[0],t,{stdio:"inherit",customFds:[0,1,2]})):m=c(i,t,{stdio:"inherit",customFds:[0,1,2]});["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(function(e){process.on(e,function(){!1===m.killed&&null===m.exitCode&&m.kill(e)})}),m.on("close",process.exit.bind(process)),m.on("error",function(e){"ENOENT"===e.code?console.error("error: %s(1) does not exist, try --help",i):"EACCES"===e.code&&console.error("error: %s(1) not executable. try chmod or run with root",i),process.exit(1)}),this.runningCommand=m},a.prototype.normalize=function(e){for(var t,n,a,s,r,o=[],l=0,p=e.length;l<p;++l)if(t=e[l],0<l&&(n=this.optionFor(e[l-1])),"--"===t){o=o.concat(e.slice(l));break}else n&&n.required?o.push(t):2<t.length&&"-"===t[0]&&"-"!==t[1]?(s=t.slice(0,2),r=this.optionFor(s),r&&(r.required||r.optional)?(o.push(s),o.push(t.slice(2))):t.slice(1).split("").forEach(function(e){o.push("-"+e)})):/^--/.test(t)&&~(a=t.indexOf("="))?o.push(t.slice(0,a),t.slice(a+1)):o.push(t);return o},a.prototype.parseArgs=function(e,t){var n;return e.length?(n=e[0],this.listeners("command:"+n).length?this.emit("command:"+e.shift(),e,t):this.emit("command:*",e)):(i(this,t),0<t.length&&this.unknownOption(t[0]),0===this.commands.length&&0===this._args.filter(function(e){return e.required}).length&&this.emit("command:*")),this},a.prototype.optionFor=function(e){for(var t=0,n=this.options.length;t<n;++t)if(this.options[t].is(e))return this.options[t]},a.prototype.parseOptions=function(e){for(var t,n,a,s=[],r=e.length,o=[],l=0;l<r;++l){if(a=e[l],t){s.push(a);continue}if("--"===a){t=!0;continue}if(n=this.optionFor(a),n){if(n.required){if(a=e[++l],null==a)return this.optionMissingArgument(n);this.emit("option:"+n.name(),a)}else n.optional?(a=e[l+1],null==a||"-"===a[0]&&"-"!==a?a=null:++l,this.emit("option:"+n.name(),a)):this.emit("option:"+n.name());continue}if(1<a.length&&"-"===a[0]){o.push(a),l+1<e.length&&("-"!==e[l+1][0]||"-"===e[l+1])&&o.push(e[++l]);continue}s.push(a)}return{args:s,unknown:o}},a.prototype.opts=function(){for(var e,t={},n=this.options.length,a=0;a<n;a++)e=this.options[a].attributeName(),t[e]=e===this._versionOptionName?this._version:this[e];return t},a.prototype.missingArgument=function(e){console.error("error: missing required argument '%s'",e),process.exit(1)},a.prototype.optionMissingArgument=function(e,t){t?console.error("error: option '%s' argument missing, got '%s'",e.flags,t):console.error("error: option '%s' argument missing",e.flags),process.exit(1)},a.prototype.unknownOption=function(e){this._allowUnknownOption||(console.error("error: unknown option '%s'",e),process.exit(1))},a.prototype.variadicArgNotLast=function(e){console.error("error: variadic arguments must be last '%s'",e),process.exit(1)},a.prototype.version=function(e,t,a){if(0===arguments.length)return this._version;this._version=e,t=t||"-V, --version",a=a||"output the version number";var s=new n(t,a);return this._versionOptionName=s.long.substr(2)||"version",this.options.push(s),this.on("option:"+this._versionOptionName,function(){process.stdout.write(e+"\n"),process.exit(0)}),this},a.prototype.description=function(e,t){return 0===arguments.length?this._description:(this._description=e,this._argsDescription=t,this)},a.prototype.alias=function(e){var t=this;if(0!==this.commands.length&&(t=this.commands[this.commands.length-1]),0===arguments.length)return t._alias;if(e===t._name)throw new Error("Command alias can't be the same as its name");return t._alias=e,this},a.prototype.usage=function(e){var t=this._args.map(function(e){return o(e)}),n="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+t.join(" "):"");return 0===arguments.length?this._usage||n:(this._usage=e,this)},a.prototype.name=function(e){return 0===arguments.length?this._name:(this._name=e,this)},a.prototype.prepareCommands=function(){return this.commands.filter(function(e){return!e._noHelp}).map(function(e){var t=e._args.map(function(e){return o(e)}).join(" ");return[e._name+(e._alias?"|"+e._alias:"")+(e.options.length?" [options]":"")+(t?" "+t:""),e._description]})},a.prototype.largestCommandLength=function(){var e=this.prepareCommands();return e.reduce(function(e,t){return d(e,t[0].length)},0)},a.prototype.largestOptionLength=function(){var e=[].slice.call(this.options);return e.push({flags:this._helpFlags}),e.reduce(function(e,t){return d(e,t.flags.length)},0)},a.prototype.largestArgLength=function(){return this._args.reduce(function(e,t){return d(e,t.name.length)},0)},a.prototype.padWidth=function(){var e=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>e&&(e=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>e&&(e=this.largestCommandLength()),e},a.prototype.optionHelp=function(){var e=this.padWidth();return this.options.map(function(t){return r(t.flags,e)+"  "+t.description+(t.negate||t.defaultValue===void 0?"":" (default: "+JSON.stringify(t.defaultValue)+")")}).concat([r(this._helpFlags,e)+"  "+this._helpDescription]).join("\n")},a.prototype.commandHelp=function(){if(!this.commands.length)return"";var e=this.prepareCommands(),t=this.padWidth();return["Commands:",e.map(function(e){var n=e[1]?"  "+e[1]:"";return(n?r(e[0],t):e[0])+n}).join("\n").replace(/^/gm,"  "),""].join("\n")},a.prototype.helpInformation=function(){var e=[];if(this._description){e=[this._description,""];var t=this._argsDescription;if(t&&this._args.length){var n=this.padWidth();e.push("Arguments:"),e.push(""),this._args.forEach(function(a){e.push("  "+r(a.name,n)+"  "+t[a.name])}),e.push("")}}var a=this._name;this._alias&&(a=a+"|"+this._alias);for(var s="",i=this.parent;i;i=i.parent)s=i.name()+" "+s;var o=["Usage: "+s+a+" "+this.usage(),""],l=[],p=this.commandHelp();p&&(l=[p]);var d=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return o.concat(e).concat(d).concat(l).join("\n")},a.prototype.outputHelp=function(e){e||(e=function(e){return e});const t=e(this.helpInformation());if("string"!=typeof t&&!Buffer.isBuffer(t))throw new Error("outputHelp callback must return a string or a Buffer");process.stdout.write(t),this.emit(this._helpLongFlag)},a.prototype.helpOption=function(e,t){this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;var n=this._helpFlags.split(/[ ,|]+/);return 1<n.length&&(this._helpShortFlag=n.shift()),this._helpLongFlag=n.shift(),this},a.prototype.help=function(e){this.outputHelp(e),process.exit()}}),commander_1=commander.Command,commander_2=commander.Option;const name="ng-translate-check",version="0.0.1",description="CLI to test an Angular project using ng-translate to find missing and unused i18n strings.",scripts={test:"echo \"Error: no test specified\" && exit 1",build:"rollup -c",dev:"rollup -c --watch","patch-release":"npm version patch && npm publish && git push --follow-tags"},main="bin/ng-translate-check",bin="bin/ng-translate-check",src="src/main.js",repository={type:"git",url:"git+https://github.com/FranciscoKnebel/ng-translate-check.git"},keywords=["angular","ng-translate","i18n"],author="Francisco Knebel <franciscopaivaknebel@gmail.com>",license="MIT",bugs={url:"https://github.com/FranciscoKnebel/ng-translate-check/issues"},homepage="https://github.com/FranciscoKnebel/ng-translate-check#readme",type="module",dependencies={commander:"^3.0.0","fast-glob":"^3.0.4",glob:"^7.1.4","keys-diff":"^1.0.7",marky:"^1.2.1"},devDependencies={"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5",rollup:"^1.20.3","rollup-plugin-add-shebang":"^0.3.1","rollup-plugin-babel-minify":"^9.0.0","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-hashbang":"^2.2.2","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0"},files=[];var pkg={name:"ng-translate-check",version:version,description:description,scripts:scripts,main:main,bin:bin,src:src,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,homepage:homepage,type:type,dependencies:dependencies,devDependencies:devDependencies,files:files},marky_cjs=createCommonjsModule(function(e,t){function n(e){if(!e)throw new Error("name must be non-empty")}function a(e,t){for(var n,a=0,s=e.length;a<s;)n=a+s>>>1,e[n].startTime<t.startTime?a=n+1:s=n;e.splice(a,0,t)}Object.defineProperty(t,"__esModule",{value:!0});var s,r="undefined"!=typeof performance&&performance;{var i=process.hrtime,o=function(){var e=i();return 1e9*e[0]+e[1]},l=o();s=function(){return(o()-l)/1e6}}var p=s;if(r&&r.mark)t.mark=function(e){n(e),r.mark("start "+e)},t.stop=function(e){n(e),r.mark("end "+e),r.measure(e,"start "+e,"end "+e);var t=r.getEntriesByName(e);return t[t.length-1]},t.getEntries=function(){return r.getEntriesByType("measure")},t.clear=function(){r.clearMarks(),r.clearMeasures()};else{var d={},u=[];t.mark=function(e){n(e);var t=p();d["$"+e]=t},t.stop=function(e){n(e);var t=p(),s=d["$"+e];if(!s)throw new Error("no known mark: "+e);var r={startTime:s,name:e,duration:t-s,entryType:"measure"};return a(u,r),r},t.getEntries=function(){return u},t.clear=function(){d={},u=[]}}}),marky=unwrapExports(marky_cjs),marky_cjs_1=marky_cjs.mark,marky_cjs_2=marky_cjs.stop,marky_cjs_3=marky_cjs.getEntries,marky_cjs_4=marky_cjs.clear,array=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){return e.reduce((e,t)=>[].concat(e,t),[])}});unwrapExports(array);var array_1=array.flatten,errno=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=function(e){return"ENOENT"===e.code}});unwrapExports(errno);var errno_1=errno.isEnoentCodeError,fs=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new n(e,t)}});unwrapExports(fs);var fs_1=fs.createDirentFromStats,path_1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return path.resolve(e,t)}});unwrapExports(path_1);var path_2=path_1.unixify,path_3=path_1.makeAbsolute,isExtglob=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1},chars={"{":"}","(":")","[":"]"},strictRegex=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,relaxedRegex=/\\(.)|(^!|[*?{}()[\]]|\(\?)/,isGlob=function(e,t){if("string"!=typeof e||""===e)return!1;if(isExtglob(e))return!0;var a,s=strictRegex;for(t&&!1===t.strict&&(s=relaxedRegex);a=s.exec(e);){if(a[2])return!0;var r=a.index+a[0].length,i=a[1],o=i?chars[i]:null;if(i&&o){var l=e.indexOf(o,r);-1!==l&&(r=l+1)}e=e.slice(r)}return!1},pathPosixDirname=path.posix.dirname,isWin32="win32"===os.platform(),slash="/",backslash=/\\/g,enclosure=/[\{\[].*[\/]*.*[\}\]]$/,globby=/(^|[^\\])([\{\[]|\([^\)]+$)/,escaped=/\\([\*\?\|\[\]\(\)\{\}])/g,globParent=function(e){isWin32&&0>e.indexOf(slash)&&(e=e.replace(backslash,slash)),enclosure.test(e)&&(e+=slash),e+="a";do e=pathPosixDirname(e);while(isGlob(e)||globby.test(e));return e.replace(escaped,"$1")},utils=createCommonjsModule(function(e,t){var n=Number.isInteger;t.isInteger=e=>"number"==typeof e?n(e):"string"==typeof e&&""!==e.trim()&&n(+e),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,n,a=1,s)=>!1!==s&&!!(t.isInteger(e)&&t.isInteger(n))&&(+n-+e)/+a>=s,t.escapeNode=(e,t=0,n)=>{let a=e.nodes[t];!a||(n&&a.type===n||"open"===a.type||"close"===a.type)&&!0!==a.escaped&&(a.value="\\"+a.value,a.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&0==e.commas>>0+e.ranges>>0&&(e.invalid=!0,!0),t.isInvalidBrace=e=>"brace"===e.type&&(!!(!0===e.invalid||e.dollar)||(0==e.commas>>0+e.ranges>>0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],n=e=>{for(let a,s=0;s<e.length;s++)a=e[s],Array.isArray(a)?n(a):void 0!==a&&t.push(a);return t};return n(e),t}}),utils_1=utils.isInteger,utils_2=utils.find,utils_3=utils.exceedsLimit,utils_4=utils.escapeNode,utils_5=utils.encloseBrace,utils_6=utils.isInvalidBrace,utils_7=utils.isOpenOrClose,utils_8=utils.reduce,utils_9=utils.flatten,stringify=(e,t={})=>{let n=(e,a={})=>{let s=t.escapeInvalid&&utils.isInvalidBrace(a),r=!0===e.invalid&&!0===t.escapeInvalid,i="";if(e.value)return(s||r)&&utils.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)i+=n(t);return i};return n(e)},isNumber=function(e){var t=Number.isFinite;return"number"==typeof e?0==e-e:!("string"!=typeof e||""===e.trim())&&(t?t(+e):isFinite(+e))};const toRegexRange=(e,t,n)=>{var s=Math.abs,r=Math.min,i=Math.max;if(!1===isNumber(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return e+"";if(!1===isNumber(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let o={relaxZeros:!0,...n};"boolean"==typeof o.strictZeros&&(o.relaxZeros=!1===o.strictZeros);let l=o.relaxZeros+"",p=o.shorthand+"",d=o.capture+"",u=o.wrap+"",c=e+":"+t+"="+l+p+d+u;if(toRegexRange.cache.hasOwnProperty(c))return toRegexRange.cache[c].result;let _=r(e,t),g=i(e,t);if(1===s(_-g)){let n=e+"|"+t;return o.capture?`(${n})`:!1===o.wrap?n:`(?:${n})`}let h=hasPadding(e)||hasPadding(t),m={min:e,max:t,a:_,b:g},f=[],y=[];if(h&&(m.isPadded=h,m.maxLen=(m.max+"").length),0>_){let e=0>g?s(g):1;y=splitToPatterns(e,s(_),m,o),_=m.a=0}return 0<=g&&(f=splitToPatterns(_,g,m,o)),m.negatives=y,m.positives=f,m.result=collatePatterns(y,f),!0===o.capture?m.result=`(${m.result})`:!1!==o.wrap&&1<f.length+y.length&&(m.result=`(?:${m.result})`),toRegexRange.cache[c]=m,m.result};function collatePatterns(e,t){let n=filterPatterns(e,t,"-",!1)||[],a=filterPatterns(t,e,"",!1)||[],s=filterPatterns(e,t,"-?",!0)||[],r=n.concat(s).concat(a);return r.join("|")}function splitToRanges(e,t){let n=1,a=1,s=countNines(e,n),r=new Set([t]);for(;e<=s&&s<=t;)r.add(s),n+=1,s=countNines(e,n);for(s=countZeros(t+1,a)-1;e<s&&s<=t;)r.add(s),a+=1,s=countZeros(t+1,a)-1;return r=[...r],r.sort(compare),r}function rangeToPattern(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let a=zip(e,t),s=a.length,r="",o=0;for(let l=0;l<s;l++){let[e,t]=a[l];e===t?r+=e:"0"!==e||"9"!==t?r+=toCharacterClass(e,t):o++}return o&&(r+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:r,count:[o],digits:s}}function splitToPatterns(e,t,n,a){let s,r=splitToRanges(e,t),o=[],l=e;for(let p=0;p<r.length;p++){let e=r[p],t=rangeToPattern(l+"",e+"",a),i="";if(!n.isPadded&&s&&s.pattern===t.pattern){1<s.count.length&&s.count.pop(),s.count.push(t.count[0]),s.string=s.pattern+toQuantifier(s.count),l=e+1;continue}n.isPadded&&(i=padZeros(e,n,a)),t.string=i+t.pattern+toQuantifier(t.count),o.push(t),l=e+1,s=t}return o}function filterPatterns(e,t,n,a){let s=[];for(let r of e){let{string:e}=r;a||contains(t,"string",e)||s.push(n+e),a&&contains(t,"string",e)&&s.push(n+e)}return s}function zip(e,t){let n=[];for(let a=0;a<e.length;a++)n.push([e[a],t[a]]);return n}function compare(e,t){return e>t?1:t>e?-1:0}function contains(e,t,n){return e.some(e=>e[t]===n)}function countNines(e,t){return+((e+"").slice(0,-t)+"9".repeat(t))}function countZeros(e,t){return e-e%Math.pow(10,t)}function toQuantifier(e){let[t=0,n=""]=e;return n||1<t?`{${t+(n?","+n:"")}}`:""}function toCharacterClass(e,t){return`[${e}${1==t-e?"":"-"}${t}]`}function hasPadding(e){return /^-?(0+)\d/.test(e)}function padZeros(e,t,n){if(!t.isPadded)return e;let a=Math.abs(t.maxLen-(e+"").length),s=!1!==n.relaxZeros;return 0===a?"":1===a?s?"0?":"0":2===a?s?"0{0,2}":"00":s?`0{0,${a}}`:`0{${a}}`}toRegexRange.cache={},toRegexRange.clearCache=()=>toRegexRange.cache={};var toRegexRange_1=toRegexRange;const isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),transform=e=>t=>!0===e?+t:t+"",isValidValue=e=>"number"==typeof e||"string"==typeof e&&""!==e,isNumber$1=e=>Number.isInteger(+e),zeros=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return 0<n},stringify$1=(e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify,pad=(e,t,n)=>{if(0<t){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?e+"":e},toMaxLen=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},toSequence=(e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let n,a=t.capture?"":"?:",s="",r="";return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(r=`-(${a}${e.negatives.join("|")})`),n=s&&r?`${s}|${r}`:s||r,t.wrap?`(${a}${n})`:n},toRange=(e,t,n,a)=>{var s=String.fromCharCode;if(n)return toRegexRange_1(e,t,{wrap:!1,...a});let r=s(e);if(e===t)return r;let i=s(t);return`[${r}-${i}]`},toRegex=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,a=n.capture?"":"?:";return t?`(${a}${e.join("|")})`:e.join("|")}return toRegexRange_1(e,t,n)},rangeError=(...e)=>new RangeError("Invalid range arguments: "+util.inspect(...e)),invalidRange=(e,t,n)=>{if(!0===n.strictRanges)throw rangeError([e,t]);return[]},invalidStep=(e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]},fillNumbers=(e,t,n=1,s={})=>{var r=Math.abs,i=Number.isInteger,o=Math.max;let l=+e,p=+t;if(!i(l)||!i(p)){if(!0===s.strictRanges)throw rangeError([e,t]);return[]}0===l&&(l=0),0===p&&(p=0);let d=l>p,u=e+"",c=t+"",_=n+"";n=o(r(n),1);let g=zeros(u)||zeros(c)||zeros(_),h=g?o(u.length,c.length,_.length):0,m=!1===g&&!1===stringify$1(e,t,s),f=s.transform||transform(m);if(s.toRegex&&1===n)return toRange(toMaxLen(e,h),toMaxLen(t,h),!0,s);let y={negatives:[],positives:[]},A=e=>y[0>e?"negatives":"positives"].push(r(e)),S=[],E=0;for(;d?l>=p:l<=p;)!0===s.toRegex&&1<n?A(l):S.push(pad(f(l,E),h,m)),l=d?l-n:l+n,E++;return!0===s.toRegex?1<n?toSequence(y,s):toRegex(S,null,{wrap:!1,...s}):S},fillLetters=(e,t,n=1,s={})=>{if(!isNumber$1(e)&&1<e.length||!isNumber$1(t)&&1<t.length)return invalidRange(e,t,s);let r=s.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),l=i>o,p=Math.min(i,o),d=Math.max(i,o);if(s.toRegex&&1===n)return toRange(p,d,!1,s);let u=[],c=0;for(;l?i>=o:i<=o;)u.push(r(i,c)),i=l?i-n:i+n,c++;return!0===s.toRegex?toRegex(u,null,{wrap:!1,options:s}):u},fill=(e,t,n,a={})=>{var s=Math.abs,r=Math.max;if(null==t&&isValidValue(e))return[e];if(!isValidValue(e)||!isValidValue(t))return invalidRange(e,t,a);if("function"==typeof n)return fill(e,t,1,{transform:n});if(isObject(n))return fill(e,t,0,n);let i={...a};return!0===i.capture&&(i.wrap=!0),n=n||i.step||1,isNumber$1(n)?isNumber$1(e)&&isNumber$1(t)?fillNumbers(e,t,n,i):fillLetters(e,t,r(s(n),1),i):null==n||isObject(n)?fill(e,t,1,n):invalidStep(n,i)};var fillRange=fill;const compile=(e,t={})=>{let n=(e,a={})=>{let s=utils.isInvalidBrace(a),r=!0===e.invalid&&!0===t.escapeInvalid,i=!0===s||!0===r,o=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return o+e.value;if(!0===e.isClose)return o+e.value;if("open"===e.type)return i?o+e.value:"(";if("close"===e.type)return i?o+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":i?e.value:"|";if(e.value)return e.value;if(e.nodes&&0<e.ranges){let n=utils.reduce(e.nodes),a=fillRange(...n,{...t,wrap:!1,toRegex:!0});if(0!==a.length)return 1<n.length&&1<a.length?`(${a})`:a}if(e.nodes)for(let t of e.nodes)l+=n(t,e);return l};return n(e)};var compile_1=compile;const append=(e="",t="",n=!1)=>{let a=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?utils.flatten(t).map(e=>`{${e}}`):t;for(let s of e)if(Array.isArray(s))for(let e of s)a.push(append(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),a.push(Array.isArray(e)?append(s,e,n):s+e);return utils.flatten(a)},expand=(e,t={})=>{let n=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,s={})=>{e.queue=[];let r=s,i=s.queue;for(;"brace"!==r.type&&"root"!==r.type&&r.parent;)r=r.parent,i=r.queue;if(e.invalid||e.dollar)return void i.push(append(i.pop(),stringify(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void i.push(append(i.pop(),["{}"]));if(e.nodes&&0<e.ranges){let a=utils.reduce(e.nodes);if(utils.exceedsLimit(...a,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let s=fillRange(...a,t);return 0===s.length&&(s=stringify(e,t)),i.push(append(i.pop(),s)),void(e.nodes=[])}let o=utils.encloseBrace(e),l=e.queue,d=e;for(;"brace"!==d.type&&"root"!==d.type&&d.parent;)d=d.parent,l=d.queue;for(let t,n=0;n<e.nodes.length;n++){if(t=e.nodes[n],"comma"===t.type&&"brace"===e.type){1==n&&l.push(""),l.push("");continue}if("close"===t.type){i.push(append(i.pop(),l,o));continue}if(t.value&&"open"!==t.type){l.push(append(l.pop(),t.value));continue}t.nodes&&a(t,e)}return l};return utils.flatten(a(e))};var expand_1=expand,constants={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:"\"",CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const{MAX_LENGTH,CHAR_BACKSLASH,CHAR_BACKTICK,CHAR_COMMA,CHAR_DOT,CHAR_LEFT_PARENTHESES,CHAR_RIGHT_PARENTHESES,CHAR_LEFT_CURLY_BRACE,CHAR_RIGHT_CURLY_BRACE,CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET,CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE,CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE}=constants,parse=(e,t={})=>{var n=Math.min;if("string"!=typeof e)throw new TypeError("Expected a string");let a=t||{},s="number"==typeof a.maxLength?n(MAX_LENGTH,a.maxLength):MAX_LENGTH;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let r,i={type:"root",input:e,nodes:[]},o=[i],l=i,p=i,d=0,u=e.length,c=0,_=0;const g=()=>e[c++],h=e=>("text"===e.type&&"dot"===p.type&&(p.type="text"),p&&"text"===p.type&&"text"===e.type)?void(p.value+=e.value):(l.nodes.push(e),e.parent=l,e.prev=p,p=e,e);for(h({type:"bos"});c<u;)if(l=o[o.length-1],r=g(),r!==CHAR_ZERO_WIDTH_NOBREAK_SPACE&&r!==CHAR_NO_BREAK_SPACE){if(r===CHAR_BACKSLASH){h({type:"text",value:(t.keepEscaping?r:"")+g()});continue}if(r===CHAR_RIGHT_SQUARE_BRACKET){h({type:"text",value:"\\"+r});continue}if(r===CHAR_LEFT_SQUARE_BRACKET){d++;for(let e;c<u&&(e=g());){if(r+=e,e===CHAR_LEFT_SQUARE_BRACKET){d++;continue}if(e===CHAR_BACKSLASH){r+=g();continue}if(e===CHAR_RIGHT_SQUARE_BRACKET&&(d--,0===d))break}h({type:"text",value:r});continue}if(r===CHAR_LEFT_PARENTHESES){l=h({type:"paren",nodes:[]}),o.push(l),h({type:"text",value:r});continue}if(r===CHAR_RIGHT_PARENTHESES){if("paren"!==l.type){h({type:"text",value:r});continue}l=o.pop(),h({type:"text",value:r}),l=o[o.length-1];continue}if(r===CHAR_DOUBLE_QUOTE||r===CHAR_SINGLE_QUOTE||r===CHAR_BACKTICK){let e,n=r;for(!0!==t.keepQuotes&&(r="");c<u&&(e=g());){if(e===CHAR_BACKSLASH){r+=e+g();continue}if(e===n){!0===t.keepQuotes&&(r+=e);break}r+=e}h({type:"text",value:r});continue}if(r===CHAR_LEFT_CURLY_BRACE){_++;let e=p.value&&"$"===p.value.slice(-1)||!0===l.dollar,t={type:"brace",open:!0,close:!1,dollar:e,depth:_,commas:0,ranges:0,nodes:[]};l=h(t),o.push(l),h({type:"open",value:r});continue}if(r===CHAR_RIGHT_CURLY_BRACE){if("brace"!==l.type){h({type:"text",value:r});continue}l=o.pop(),l.close=!0,h({type:"close",value:r}),_--,l=o[o.length-1];continue}if(r===CHAR_COMMA&&0<_){if(0<l.ranges){l.ranges=0;let e=l.nodes.shift();l.nodes=[e,{type:"text",value:stringify(l)}]}h({type:"comma",value:r}),l.commas++;continue}if(r===CHAR_DOT&&0<_&&0===l.commas){let e=l.nodes;if(0===_||0===e.length){h({type:"text",value:r});continue}if("dot"===p.type){if(l.range=[],p.value+=r,p.type="range",3!==l.nodes.length&&5!==l.nodes.length){l.invalid=!0,l.ranges=0,p.type="text";continue}l.ranges++,l.args=[];continue}if("range"===p.type){e.pop();let t=e[e.length-1];t.value+=p.value+r,p=t,l.ranges--;continue}h({type:"dot",value:r});continue}h({type:"text",value:r})}do if(l=o.pop(),"root"!==l.type){l.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),!e.nodes&&(e.type="text"),e.invalid=!0)});let e=o[o.length-1],t=e.nodes.indexOf(l);e.nodes.splice(t,1,...l.nodes)}while(0<o.length);return h({type:"eos"}),i};var parse_1=parse;const braces=(e,t={})=>{let n=[];if(Array.isArray(e))for(let a of e){let e=braces.create(a,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(braces.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};braces.parse=(e,t={})=>parse_1(e,t),braces.stringify=(e,t={})=>"string"==typeof e?stringify(braces.parse(e,t),t):stringify(e,t),braces.compile=(e,t={})=>("string"==typeof e&&(e=braces.parse(e,t)),compile_1(e,t)),braces.expand=(e,t={})=>{"string"==typeof e&&(e=braces.parse(e,t));let n=expand_1(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},braces.create=(e,t={})=>""===e||3>e.length?[e]:!0===t.expand?braces.expand(e,t):braces.compile(e,t);var braces_1=braces;const WIN_SLASH="\\\\/",WIN_NO_SLASH=`[^${"\\\\/"}]`,DOT_LITERAL="\\.",PLUS_LITERAL="\\+",QMARK_LITERAL="\\?",SLASH_LITERAL="\\/",ONE_CHAR="(?=.)",QMARK="[^/]",END_ANCHOR=`(?:${SLASH_LITERAL}|$)`,START_ANCHOR=`(?:^|${SLASH_LITERAL})`,DOTS_SLASH=`${DOT_LITERAL}{1,2}${END_ANCHOR}`,NO_DOT=`(?!${DOT_LITERAL})`,NO_DOTS=`(?!${START_ANCHOR}${DOTS_SLASH})`,NO_DOT_SLASH=`(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`,NO_DOTS_SLASH=`(?!${DOTS_SLASH})`,QMARK_NO_DOT=`[^.${SLASH_LITERAL}]`,STAR=`${QMARK}*?`,POSIX_CHARS={DOT_LITERAL,PLUS_LITERAL,QMARK_LITERAL,SLASH_LITERAL,ONE_CHAR,QMARK,END_ANCHOR,DOTS_SLASH,NO_DOT,NO_DOTS,NO_DOT_SLASH,NO_DOTS_SLASH,QMARK_NO_DOT,STAR,START_ANCHOR},WINDOWS_CHARS={...POSIX_CHARS,SLASH_LITERAL:`[${"\\\\/"}]`,QMARK:WIN_NO_SLASH,STAR:`${WIN_NO_SLASH}*?`,DOTS_SLASH:`${DOT_LITERAL}{1,2}(?:[${"\\\\/"}]|$)`,NO_DOT:`(?!${DOT_LITERAL})`,NO_DOTS:`(?!(?:^|[${"\\\\/"}])${DOT_LITERAL}{1,2}(?:[${"\\\\/"}]|$))`,NO_DOT_SLASH:`(?!${DOT_LITERAL}{0,1}(?:[${"\\\\/"}]|$))`,NO_DOTS_SLASH:`(?!${DOT_LITERAL}{1,2}(?:[${"\\\\/"}]|$))`,QMARK_NO_DOT:`[^.${"\\\\/"}]`,START_ANCHOR:`(?:^|[${"\\\\/"}])`,END_ANCHOR:`(?:[${"\\\\/"}]|$)`},POSIX_REGEX_SOURCE={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var constants$1={MAX_LENGTH:65536,POSIX_REGEX_SOURCE,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:path.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return!0===e?WINDOWS_CHARS:POSIX_CHARS}},utils$1=createCommonjsModule(function(e,t){const n="win32"===process.platform,{REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:s,REGEX_REMOVE_BACKSLASH:r}=constants$1;t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(s,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.removeBackslashes=e=>e.replace(r,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return!!(3===e.length&&9<=+e[0]||8==+e[0]&&10<=+e[1])},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0==n||"\\"===path.sep,t.escapeLast=(e,n,a)=>{let s=e.lastIndexOf(n,a);return-1===s?e:"\\"===e[s-1]?t.escapeLast(e,n,s-1):e.slice(0,s)+"\\"+e.slice(s)}}),utils_1$1=utils$1.isObject,utils_2$1=utils$1.hasRegexChars,utils_3$1=utils$1.isRegexChar,utils_4$1=utils$1.escapeRegex,utils_5$1=utils$1.toPosixSlashes,utils_6$1=utils$1.removeBackslashes,utils_7$1=utils$1.supportsLookbehinds,utils_8$1=utils$1.isWindows,utils_9$1=utils$1.escapeLast;const{CHAR_ASTERISK,CHAR_AT,CHAR_BACKWARD_SLASH,CHAR_COMMA:CHAR_COMMA$1,CHAR_DOT:CHAR_DOT$1,CHAR_EXCLAMATION_MARK,CHAR_FORWARD_SLASH,CHAR_LEFT_CURLY_BRACE:CHAR_LEFT_CURLY_BRACE$1,CHAR_LEFT_PARENTHESES:CHAR_LEFT_PARENTHESES$1,CHAR_LEFT_SQUARE_BRACKET:CHAR_LEFT_SQUARE_BRACKET$1,CHAR_PLUS,CHAR_QUESTION_MARK,CHAR_RIGHT_CURLY_BRACE:CHAR_RIGHT_CURLY_BRACE$1,CHAR_RIGHT_PARENTHESES:CHAR_RIGHT_PARENTHESES$1,CHAR_RIGHT_SQUARE_BRACKET:CHAR_RIGHT_SQUARE_BRACKET$1}=constants$1,isPathSeparator=e=>e===CHAR_FORWARD_SLASH||e===CHAR_BACKWARD_SLASH;var scan=(e,t)=>{let n,a,s=e.length-1,r=-1,i=0,o=0,l=!1,p=!1,d=!1,u=0,c=!1,_=()=>r>=s,g=()=>(n=a,e.charCodeAt(++r));for(;r<s;){a=g();let t;if(a===CHAR_BACKWARD_SLASH){p=!0,t=g(),t===CHAR_LEFT_CURLY_BRACE$1&&(c=!0);continue}if(!0===c||a===CHAR_LEFT_CURLY_BRACE$1)for(u++;!_()&&(t=g());){if(t===CHAR_BACKWARD_SLASH){p=!0,t=g();continue}if(t===CHAR_LEFT_CURLY_BRACE$1){u++;continue}if(!c&&t===CHAR_DOT$1&&(t=g())===CHAR_DOT$1){l=!0;break}if(!c&&t===CHAR_COMMA$1){l=!0;break}if(t===CHAR_RIGHT_CURLY_BRACE$1&&(u--,0===u)){c=!1;break}}if(a===CHAR_FORWARD_SLASH){if(n===CHAR_DOT$1&&r===i+1){i+=2;continue}o=r+1;continue}if(a===CHAR_ASTERISK){l=!0;break}if(a===CHAR_ASTERISK||a===CHAR_QUESTION_MARK){l=!0;break}if(a===CHAR_LEFT_SQUARE_BRACKET$1)for(;!_()&&(t=g());){if(t===CHAR_BACKWARD_SLASH){p=!0,t=g();continue}if(t===CHAR_RIGHT_SQUARE_BRACKET$1){l=!0;break}}let s=a===CHAR_PLUS||a===CHAR_AT||a===CHAR_EXCLAMATION_MARK;if(s&&e.charCodeAt(r+1)===CHAR_LEFT_PARENTHESES$1){l=!0;break}if(a===CHAR_EXCLAMATION_MARK&&r===i){d=!0,i++;continue}if(a===CHAR_LEFT_PARENTHESES$1)for(;!_()&&(t=g());){if(t===CHAR_BACKWARD_SLASH){p=!0,t=g();continue}if(t===CHAR_RIGHT_PARENTHESES$1){l=!0;break}}if(l)break}let h="",m=e,f=e,y="";return 0<i&&(h=e.slice(0,i),e=e.slice(i),o-=i),f&&!0===l&&0<o?(f=e.slice(0,o),y=e.slice(o)):!0===l?(f="",y=e):f=e,f&&""!==f&&"/"!==f&&f!==e&&isPathSeparator(f.charCodeAt(f.length-1))&&(f=f.slice(0,-1)),!0===(t||{}).unescape&&(y&&(y=utils$1.removeBackslashes(y)),f&&!0===p&&(f=utils$1.removeBackslashes(f))),{prefix:h,input:m,base:f,glob:y,negated:d,isGlob:l}};const{MAX_LENGTH:MAX_LENGTH$1,POSIX_REGEX_SOURCE:POSIX_REGEX_SOURCE$1,REGEX_NON_SPECIAL_CHAR,REGEX_SPECIAL_CHARS_BACKREF,REPLACEMENTS}=constants$1,expandRange=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map(e=>utils$1.escapeRegex(e)).join("..")}return n},negate=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return 0!=t%2&&(e.negated=!0,e.start++,!0)},syntaxError=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,parse$1=(e,t)=>{var n=Math.min;if("string"!=typeof e)throw new TypeError("Expected a string");e=REPLACEMENTS[e]||e;let a={...t},s="number"==typeof a.maxLength?n(MAX_LENGTH$1,a.maxLength):MAX_LENGTH$1,r=e.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);let i={type:"bos",value:"",output:a.prepend||""},o=[i],l=a.capture?"":"?:",p=utils$1.isWindows(t);const d=constants$1.globChars(p),u=constants$1.extglobChars(d),{DOT_LITERAL:c,PLUS_LITERAL:_,SLASH_LITERAL:g,ONE_CHAR:h,DOTS_SLASH:m,NO_DOT:f,NO_DOT_SLASH:y,NO_DOTS_SLASH:A,QMARK:S,QMARK_NO_DOT:E,STAR:R,START_ANCHOR:b}=d,v=e=>`(${l}(?:(?!${b}${e.dot?m:c}).)*?)`;let C=a.dot?"":f,x=!0===a.bash?v(a):R,k=a.dot?S:E;a.capture&&(x=`(${x})`),"boolean"==typeof a.noext&&(a.noextglob=a.noext);let L,T={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:o},P=[],H=[],O=i;const F=()=>T.index===r-1,D=T.peek=(t=1)=>e[T.index+t],M=T.advance=()=>e[++T.index],N=e=>{T.output+=null==e.output?e.value:e.output,T.consumed+=e.value||""},I=e=>{T[e]++,H.push(e)},w=e=>{T[e]--,H.pop()},B=e=>{if("globstar"===O.type){let t=0<T.braces&&("comma"===e.type||"brace"===e.type),n=P.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(T.output=T.output.slice(0,-O.output.length),O.type="star",O.value="*",O.output=x,T.output+=O.output)}return P.length&&"paren"!==e.type&&!u[e.value]&&(P[P.length-1].inner+=e.value),(e.value||e.output)&&N(e),O&&"text"===O.type&&"text"===e.type?void(O.value+=e.value):void(e.prev=O,o.push(e),O=e)},j=(e,t)=>{let n={...u[t],conditions:1,inner:"",prev:O,parens:T.parens,output:T.output},s=(a.capture?"(":"")+n.open;B({type:e,value:t,output:T.output?"":h}),B({type:"paren",extglob:!0,value:M(),output:s}),I("parens"),P.push(n)},U=t=>{let n=t.close+(a.capture?")":"");if("negate"===t.type){let s=x;t.inner&&1<t.inner.length&&t.inner.includes("/")&&(s=v(a)),(s!==x||F()||/^\)+$/.test(e.slice(T.index+1)))&&(n=t.close=")$))"+s),"bos"===t.prev.type&&F()&&(T.negatedExtglob=!0)}B({type:"paren",extglob:!0,value:L,output:n}),w("parens")};if(!1!==a.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(REGEX_SPECIAL_CHARS_BACKREF,(e,n,a,s,r,i)=>"\\"===s?(t=!0,e):"?"===s?n?n+s+(r?S.repeat(r.length):""):0===i?k+(r?S.repeat(r.length):""):S.repeat(a.length):"."===s?c.repeat(a.length):"*"===s?n?n+s+(r?x:""):x:n?e:"\\"+e);return!0==t&&(!0===a.unescape?n=n.replace(/\\/g,""):n=n.replace(/\\+/g,e=>0==e.length%2?"\\\\":e?"\\":"")),T.output=n,T}for(;!F();){if(L=M(),"\0"===L)continue;if("\\"===L){let t=D();if("/"===t&&!0!==a.bash)continue;if("."===t||";"===t)continue;if(!t){L+="\\",B({type:"text",value:L});continue}let n=/^\\+/.exec(e.slice(T.index+1)),s=0;if(n&&2<n[0].length&&(s=n[0].length,T.index+=s,0!=s%2&&(L+="\\")),!0===a.unescape?L=M()||"":L+=M()||"",0===T.brackets){B({type:"text",value:L});continue}}if(0<T.brackets&&("]"!==L||"["===O.value||"[^"===O.value)){if(!1!==a.posix&&":"===L){let e=O.value.slice(1);if(e.includes("[")&&(O.posix=!0,e.includes(":"))){let e=O.value.lastIndexOf("["),t=O.value.slice(0,e),n=O.value.slice(e+2),a=POSIX_REGEX_SOURCE$1[n];if(a){O.value=t+a,T.backtrack=!0,M(),i.output||1!==o.indexOf(O)||(i.output=h);continue}}}("["===L&&":"!==D()||"-"===L&&"]"===D())&&(L="\\"+L),"]"===L&&("["===O.value||"[^"===O.value)&&(L="\\"+L),!0===a.posix&&"!"===L&&"["===O.value&&(L="^"),O.value+=L,N({value:L});continue}if(1===T.quotes&&"\""!==L){L=utils$1.escapeRegex(L),O.value+=L,N({value:L});continue}if("\""===L){T.quotes=1===T.quotes?0:1,!0===a.keepQuotes&&B({type:"text",value:L});continue}if("("===L){B({type:"paren",value:L}),I("parens");continue}if(")"===L){if(0===T.parens&&!0===a.strictBrackets)throw new SyntaxError(syntaxError("opening","("));let e=P[P.length-1];if(e&&T.parens===e.parens+1){U(P.pop());continue}B({type:"paren",value:L,output:T.parens?")":"\\)"}),w("parens");continue}if("["===L){if(!0===a.nobracket||!e.slice(T.index+1).includes("]")){if(!0!==a.nobracket&&!0===a.strictBrackets)throw new SyntaxError(syntaxError("closing","]"));L="\\"+L}else I("brackets");B({type:"bracket",value:L});continue}if("]"===L){if(!0===a.nobracket||O&&"bracket"===O.type&&1===O.value.length){B({type:"text",value:L,output:"\\"+L});continue}if(0===T.brackets){if(!0===a.strictBrackets)throw new SyntaxError(syntaxError("opening","["));B({type:"text",value:L,output:"\\"+L});continue}w("brackets");let e=O.value.slice(1);if(!0===O.posix||"^"!==e[0]||e.includes("/")||(L="/"+L),O.value+=L,N({value:L}),!1===a.literalBrackets||utils$1.hasRegexChars(e))continue;let t=utils$1.escapeRegex(O.value);if(T.output=T.output.slice(0,-O.value.length),!0===a.literalBrackets){T.output+=t,O.value=t;continue}O.value=`(${l}${t}|${O.value})`,T.output+=O.value;continue}if("{"===L&&!0!==a.nobrace){B({type:"brace",value:L,output:"("}),I("braces");continue}if("}"===L){if(!0===a.nobrace||0===T.braces){B({type:"text",value:L,output:"\\"+L});continue}let e=")";if(!0===T.dots){let t=o.slice(),n=[];for(let e=t.length-1;0<=e&&(o.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=expandRange(n,a),T.backtrack=!0}B({type:"brace",value:L,output:e}),w("braces");continue}if("|"===L){0<P.length&&P[P.length-1].conditions++,B({type:"text",value:L});continue}if(","===L){let e=L;0<T.braces&&"braces"===H[H.length-1]&&(e="|"),B({type:"comma",value:L,output:e});continue}if("/"===L){if("dot"===O.type&&1===T.index){T.start=T.index+1,T.consumed="",T.output="",o.pop(),O=i;continue}B({type:"slash",value:L,output:g});continue}if("."===L){if(0<T.braces&&"dot"===O.type){"."===O.value&&(O.output=c),O.type="dots",O.output+=L,O.value+=L,T.dots=!0;continue}B({type:"dot",value:L,output:c});continue}if("?"===L){if(O&&"paren"===O.type){let e=D(),t=L;if("<"===e&&!utils$1.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("!==O.value||/[!=<:]/.test(e))&&("<"!==e||/[!=]/.test(D(2)))||(t="\\"+L),B({type:"text",value:L,output:t});continue}if(!0!==a.noextglob&&"("===D()&&"?"!==D(2)){j("qmark",L);continue}if(!0!==a.dot&&("slash"===O.type||"bos"===O.type)){B({type:"qmark",value:L,output:E});continue}B({type:"qmark",value:L,output:S});continue}if("!"===L){if(!0!==a.noextglob&&"("===D()&&("?"!==D(2)||!/[!=<:]/.test(D(3)))){j("negate",L);continue}if(!0!==a.nonegate&&0===T.index){negate(T);continue}}if("+"===L){if(!0!==a.noextglob&&"("===D()&&"?"!==D(2)){j("plus",L);continue}if(O&&("bracket"===O.type||"paren"===O.type||"brace"===O.type)){let e=!0===O.extglob?"\\"+L:L;B({type:"plus",value:L,output:e});continue}if(0<T.parens&&!1!==a.regex){B({type:"plus",value:L});continue}B({type:"plus",value:_});continue}if("@"===L){if(!0!==a.noextglob&&"("===D()&&"?"!==D(2)){B({type:"at",value:L,output:""});continue}B({type:"text",value:L});continue}if("*"!==L){("$"===L||"^"===L)&&(L="\\"+L);let t=REGEX_NON_SPECIAL_CHAR.exec(e.slice(T.index+1));t&&(L+=t[0],T.index+=t[0].length),B({type:"text",value:L});continue}if(O&&("globstar"===O.type||!0===O.star)){O.type="star",O.star=!0,O.value+=L,O.output=x,T.backtrack=!0,T.consumed+=L;continue}if(!0!==a.noextglob&&"("===D()&&"?"!==D(2)){j("star",L);continue}if("star"===O.type){if(!0===a.noglobstar){T.consumed+=L;continue}let t=O.prev,n=t.prev,s="slash"===t.type||"bos"===t.type,r=n&&("star"===n.type||"globstar"===n.type);if(!0===a.bash&&(!s||!F()&&"/"!==D())){B({type:"star",value:L,output:""});continue}let i=0<T.braces&&("comma"===t.type||"brace"===t.type),o=P.length&&("pipe"===t.type||"paren"===t.type);if(!s&&"paren"!==t.type&&!i&&!o){B({type:"star",value:L,output:""});continue}for(;"/**"===e.slice(T.index+1,T.index+4);){let t=e[T.index+4];if(t&&"/"!==t)break;T.consumed+="/**",T.index+=3}if("bos"===t.type&&F()){O.type="globstar",O.value+=L,O.output=v(a),T.output=O.output,T.consumed+=L;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!r&&F()){T.output=T.output.slice(0,-(t.output+O.output).length),t.output="(?:"+t.output,O.type="globstar",O.output=v(a)+"|$)",O.value+=L,T.output+=t.output+O.output,T.consumed+=L;continue}let l=D();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===l){let e=void 0===D(2)?"":"|$";T.output=T.output.slice(0,-(t.output+O.output).length),t.output="(?:"+t.output,O.type="globstar",O.output=`${v(a)}${g}|${g}${e})`,O.value+=L,T.output+=t.output+O.output,T.consumed+=L+M(),B({type:"slash",value:L,output:""});continue}if("bos"===t.type&&"/"===l){O.type="globstar",O.value+=L,O.output=`(?:^|${g}|${v(a)}${g})`,T.output=O.output,T.consumed+=L+M(),B({type:"slash",value:L,output:""});continue}T.output=T.output.slice(0,-O.output.length),O.type="globstar",O.output=v(a),O.value+=L,T.output+=O.output,T.consumed+=L;continue}let t={type:"star",value:L,output:x};if(!0===a.bash){t.output=".*?",("bos"===O.type||"slash"===O.type)&&(t.output=C+t.output),B(t);continue}if(O&&("bracket"===O.type||"paren"===O.type)&&!0===a.regex){t.output=L,B(t);continue}(T.index===T.start||"slash"===O.type||"dot"===O.type)&&("dot"===O.type?(T.output+=y,O.output+=y):!0===a.dot?(T.output+=A,O.output+=A):(T.output+=C,O.output+=C),"*"!==D()&&(T.output+=h,O.output+=h)),B(t)}for(;0<T.brackets;){if(!0===a.strictBrackets)throw new SyntaxError(syntaxError("closing","]"));T.output=utils$1.escapeLast(T.output,"["),w("brackets")}for(;0<T.parens;){if(!0===a.strictBrackets)throw new SyntaxError(syntaxError("closing",")"));T.output=utils$1.escapeLast(T.output,"("),w("parens")}for(;0<T.braces;){if(!0===a.strictBrackets)throw new SyntaxError(syntaxError("closing","}"));T.output=utils$1.escapeLast(T.output,"{"),w("braces")}if(!0!==a.strictSlashes&&("star"===O.type||"bracket"===O.type)&&B({type:"maybe_slash",value:"",output:`${g}?`}),!0===T.backtrack){T.output="";for(let e of T.tokens)T.output+=null==e.output?e.value:e.output,e.suffix&&(T.output+=e.suffix)}return T};parse$1.fastpaths=(e,t)=>{var n=Math.min;let a={...t},s="number"==typeof a.maxLength?n(MAX_LENGTH$1,a.maxLength):MAX_LENGTH$1,r=e.length;if(r>s)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${s}`);e=REPLACEMENTS[e]||e;let i=utils$1.isWindows(t);const{DOT_LITERAL:o,SLASH_LITERAL:l,ONE_CHAR:p,DOTS_SLASH:d,NO_DOT:u,NO_DOTS:c,NO_DOTS_SLASH:_,STAR:g,START_ANCHOR:h}=constants$1.globChars(i);let m=a.capture?"":"?:",f=!0===a.bash?".*?":g,y=a.dot?c:u,A=a.dot?_:u;a.capture&&(f=`(${f})`);const S=e=>`(${m}(?:(?!${h}${e.dot?d:o}).)*?)`,E=e=>{switch(e){case"*":return`${y}${p}${f}`;case".*":return`${o}${p}${f}`;case"*.*":return`${y}${f}${o}${p}${f}`;case"*/*":return`${y}${f}${l}${p}${A}${f}`;case"**":return y+S(a);case"**/*":return`(?:${y}${S(a)}${l})?${A}${p}${f}`;case"**/*.*":return`(?:${y}${S(a)}${l})?${A}${f}${o}${p}${f}`;case"**/.*":return`(?:${y}${S(a)}${l})?${o}${p}${f}`;default:{let t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;let n=E(t[1]);return n?n+o+t[2]:void 0}}};let R=E(e);return R&&!0!==a.strictSlashes&&(R+=`${l}?`),R};var parse_1$1=parse$1;const picomatch=(e,t,n=!1)=>{if(Array.isArray(e)){let a=e.map(e=>picomatch(e,t,n));return e=>{for(let t of a){let n=t(e);if(n)return n}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let a=t||{},s=utils$1.isWindows(t),r=picomatch.makeRe(e,t,!1,!0),i=r.state;delete r.state;let o=()=>!1;if(a.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};o=picomatch(a.ignore,e,n)}const l=(n,l=!1)=>{let{isMatch:p,match:d,output:u}=picomatch.test(n,r,t,{glob:e,posix:s}),c={glob:e,state:i,regex:r,posix:s,input:n,output:u,match:d,isMatch:p};return("function"==typeof a.onResult&&a.onResult(c),!1===p)?(c.isMatch=!1,!!l&&c):o(n)?("function"==typeof a.onIgnore&&a.onIgnore(c),c.isMatch=!1,!!l&&c):("function"==typeof a.onMatch&&a.onMatch(c),!l||c)};return n&&(l.state=i),l};picomatch.test=(e,t,n,{glob:a,posix:s}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let r=n||{},i=r.format||(s?utils$1.toPosixSlashes:null),o=e===a,l=o&&i?i(e):e;return!1===o&&(l=i?i(e):e,o=l===a),(!1===o||!0===r.capture)&&(!0===r.matchBase||!0===r.basename?o=picomatch.matchBase(e,t,n,s):o=t.exec(l)),{isMatch:!!o,match:o,output:l}},picomatch.matchBase=(e,t,n,a=utils$1.isWindows(n))=>{let s=t instanceof RegExp?t:picomatch.makeRe(t,n);return s.test(path.basename(e))},picomatch.isMatch=(e,t,n)=>picomatch(t,n)(e),picomatch.parse=(e,t)=>parse_1$1(e,t),picomatch.scan=(e,t)=>scan(e,t),picomatch.makeRe=(e,t,n=!1,a=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let s,r=t||{},i=r.contains?"":"^",o=r.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1!==r.fastpaths&&("."===e[0]||"*"===e[0])&&(s=parse_1$1.fastpaths(e,t)),void 0===s&&(l=picomatch.parse(e,t),l.prefix=p+(l.prefix||""),s=l.output),!0===n)return s;let d=`${i}(?:${s})${o}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let u=picomatch.toRegex(d,t);return!0===a&&(u.state=l),u},picomatch.toRegex=(e,t)=>{try{let n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return /$^/}},picomatch.constants=constants$1;var picomatch_1=picomatch,picomatch$1=picomatch_1;const isEmptyString=e=>"string"==typeof e&&(""===e||"./"===e),micromatch=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let a=new Set,s=new Set,r=new Set,o=0,l=e=>{r.add(e.output),n&&n.onResult&&n.onResult(e)};for(let r=0;r<t.length;r++){let i=picomatch$1(t[r]+"",{...n,onResult:l},!0),p=i.state.negated||i.state.negatedExtglob;p&&o++;for(let t of e){let e=i(t,!0),n=p?!e.isMatch:e.isMatch;n&&(p?a.add(e.output):(a.delete(e.output),s.add(e.output)))}}let p=o===t.length?[...r]:[...s],d=p.filter(e=>!a.has(e));if(n&&0===d.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map(e=>e.replace(/\\/g,"")):t}return d};micromatch.match=micromatch,micromatch.matcher=(e,t)=>picomatch$1(e,t),micromatch.isMatch=(e,t,n)=>picomatch$1(t,n)(e),micromatch.any=micromatch.isMatch,micromatch.not=(e,t,n={})=>{t=[].concat(t).map(String);let a=new Set,s=[],r=micromatch(e,t,{...n,onResult:e=>{n.onResult&&n.onResult(e),s.push(e.output)}});for(let i of s)r.includes(i)||a.add(i);return[...a]},micromatch.contains=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${util.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>micromatch.contains(e,t,n));if("string"==typeof t){if(isEmptyString(e)||isEmptyString(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return micromatch.isMatch(e,t,{...n,contains:!0})},micromatch.matchKeys=(e,t,n)=>{if(!utils$1.isObject(e))throw new TypeError("Expected the first argument to be an object");let a=micromatch(Object.keys(e),t,n),s={};for(let r of a)s[r]=e[r];return s},micromatch.some=(e,t,n)=>{let a=[].concat(e);for(let s of[].concat(t)){let e=picomatch$1(s+"",n);if(a.some(t=>e(t)))return!0}return!1},micromatch.every=(e,t,n)=>{let a=[].concat(e);for(let s of[].concat(t)){let e=picomatch$1(s+"",n);if(!a.every(t=>e(t)))return!1}return!0},micromatch.all=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${util.inspect(e)}"`);return[].concat(t).every(t=>picomatch$1(t,n)(e))},micromatch.capture=(e,t,n)=>{let a=utils$1.isWindows(n),s=picomatch$1.makeRe(e+"",{...n,capture:!0}),r=s.exec(a?utils$1.toPosixSlashes(t):t);if(r)return r.slice(1).map(e=>void 0===e?"":e)},micromatch.makeRe=(...e)=>picomatch$1.makeRe(...e),micromatch.scan=(...e)=>picomatch$1.scan(...e),micromatch.parse=(e,t)=>{let n=[];for(let a of[].concat(e||[]))for(let e of braces_1(a+"",t))n.push(picomatch$1.parse(e,t));return n},micromatch.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:braces_1(e,t)},micromatch.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return micromatch.braces(e,{...t,expand:!0})};var micromatch_1=micromatch,pattern=createCommonjsModule(function(e,t){function n(e){return!a(e)}function a(e){return isGlob(e,{strict:!1})}function s(e){return e.startsWith("!")&&"("!==e[1]}function r(e){return!s(e)}function i(e){return globParent(e)}function o(e){return e.endsWith("/**")}function l(e){const t=i(e),n=e.split("/").length,a=t.split("/").length;return"."===t?n-a:n-a-1}function p(e,t){return micromatch_1.makeRe(e,t)}Object.defineProperty(t,"__esModule",{value:!0});t.isStaticPattern=n,t.isDynamicPattern=a,t.convertToPositivePattern=function(e){return s(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=s,t.isPositivePattern=r,t.getNegativePatterns=function(e){return e.filter(s)},t.getPositivePatterns=function(e){return e.filter(r)},t.getBaseDirectory=i,t.hasGlobStar=function(e){return-1!==e.indexOf("**")},t.endsWithSlashGlobStar=o,t.isAffectDepthOfReadingPattern=function(e){const t=path.basename(e);return o(e)||n(t)},t.getNaiveDepth=l,t.getMaxNaivePatternsDepth=function(e){return e.reduce((e,t)=>{const n=l(t);return n>e?n:e},0)},t.makeRe=p,t.convertPatternsToRe=function(e,t){return e.map(e=>p(e,t))},t.matchAny=function(e,t){const n=e.replace(/^\.[\\\/]/,"");return t.some(e=>e.test(n))}});unwrapExports(pattern);var pattern_1=pattern.isStaticPattern,pattern_2=pattern.isDynamicPattern,pattern_3=pattern.convertToPositivePattern,pattern_4=pattern.convertToNegativePattern,pattern_5=pattern.isNegativePattern,pattern_6=pattern.isPositivePattern,pattern_7=pattern.getNegativePatterns,pattern_8=pattern.getPositivePatterns,pattern_9=pattern.getBaseDirectory,pattern_10=pattern.hasGlobStar,pattern_11=pattern.endsWithSlashGlobStar,pattern_12=pattern.isAffectDepthOfReadingPattern,pattern_13=pattern.getNaiveDepth,pattern_14=pattern.getMaxNaivePatternsDepth,pattern_15=pattern.makeRe,pattern_16=pattern.convertPatternsToRe,pattern_17=pattern.matchAny;const PassThrough=Stream.PassThrough,slice=Array.prototype.slice;function merge2(){function e(){for(let e=0,t=arguments.length;e<t;e++)a.push(pauseStreams(arguments[e],o));return t(),this}function t(){function e(){0<--l||(s=!1,t())}function r(t){function n(){t.removeListener("merge2UnpipeEnd",n),t.removeListener("end",n),e()}return t._readableState.endEmitted?e():void(t.on("merge2UnpipeEnd",n),t.on("end",n),t.pipe(p,{end:!1}),t.resume())}if(s)return;s=!0;let o=a.shift();if(!o)return void process.nextTick(n);Array.isArray(o)||(o=[o]);let l=o.length+1;for(let e=0;e<o.length;e++)r(o[e]);e()}function n(){return s=!1,p.emit("queueDrain"),l&&p.end()}const a=[];let s=!1,r=slice.call(arguments),o=r[r.length-1];o&&!Array.isArray(o)&&null==o.pipe?r.pop():o={};let l=!1!==o.end;null==o.objectMode&&(o.objectMode=!0),null==o.highWaterMark&&(o.highWaterMark=65536);const p=PassThrough(o);return p.setMaxListeners(0),p.add=e,p.on("unpipe",function(e){e.emit("merge2UnpipeEnd")}),r.length&&e.apply(null,r),p}function pauseStreams(e,t){if(!Array.isArray(e)){if(!e._readableState&&e.pipe&&(e=e.pipe(PassThrough(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}else for(let n=0,a=e.length;n<a;n++)e[n]=pauseStreams(e[n],t);return e}var merge2$1=Object.freeze({default:merge2,merge2:merge2}),merge2$2=getCjsExportFromNamespace(merge2$1),stream=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(e){const t=merge2$2(e);return e.forEach(e=>{e.once("error",e=>t.emit("error",e))}),t}});unwrapExports(stream);var stream_1=stream.merge,utils$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.array=array,t.errno=errno,t.fs=fs,t.path=path_1,t.pattern=pattern,t.stream=stream});unwrapExports(utils$2);var utils_1$2=utils$2.array,utils_2$2=utils$2.errno,utils_3$2=utils$2.fs,utils_4$2=utils$2.path,utils_5$2=utils$2.pattern,utils_6$2=utils$2.stream,tasks=createCommonjsModule(function(e,t){function n(e,t,n){const a=r(e);if("."in a){const a=o(".",e,t,n);return[a]}return i(a,t,n)}function a(e){return utils$2.pattern.getPositivePatterns(e)}function s(e,t){const n=utils$2.pattern.getNegativePatterns(e).concat(t),a=n.map(utils$2.pattern.convertToPositivePattern);return a}function r(e){return e.reduce((e,t)=>{const n=utils$2.pattern.getBaseDirectory(t);return n in e?e[n].push(t):e[n]=[t],e},{})}function i(e,t,n){return Object.keys(e).map(a=>o(a,e[a],t,n))}function o(e,t,n,a){return{dynamic:a,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(utils$2.pattern.convertToNegativePattern))}}Object.defineProperty(t,"__esModule",{value:!0}),t.generate=function(e,t){const r=a(e),i=s(e,t.ignore),o=t.caseSensitiveMatch?r.filter(utils$2.pattern.isStaticPattern):[],l=t.caseSensitiveMatch?r.filter(utils$2.pattern.isDynamicPattern):r,p=n(o,i,!1),d=n(l,i,!0);return p.concat(d)},t.convertPatternsToTasks=n,t.getPositivePatterns=a,t.getNegativePatternsAsPositive=s,t.groupPatternsByBaseDirectory=r,t.convertPatternGroupsToTasks=i,t.convertPatternGroupToTask=o});unwrapExports(tasks);var tasks_1=tasks.generate,tasks_2=tasks.convertPatternsToTasks,tasks_3=tasks.getPositivePatterns,tasks_4=tasks.getNegativePatternsAsPositive,tasks_5=tasks.groupPatternsByBaseDirectory,tasks_6=tasks.convertPatternGroupsToTasks,tasks_7=tasks.convertPatternGroupToTask,async=createCommonjsModule(function(e,t){function n(e,t){e(t)}function a(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t,s){t.fs.lstat(e,(r,i)=>r?n(s,r):i.isSymbolicLink()&&t.followSymbolicLink?void t.fs.stat(e,(e,r)=>e?t.throwErrorOnBrokenSymbolicLink?n(s,e):a(s,i):void(t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),a(s,r))):a(s,i))}});unwrapExports(async);var async_1=async.read,sync=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t){const n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{const n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw e}}});unwrapExports(sync);var sync_1=sync.read,fs_1$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_SYSTEM_ADAPTER={lstat:fs$2__default.lstat,stat:fs$2__default.stat,lstatSync:fs$2__default.lstatSync,statSync:fs$2__default.statSync},t.createFileSystemAdapter=function(e){return e?Object.assign({},t.FILE_SYSTEM_ADAPTER,e):t.FILE_SYSTEM_ADAPTER}});unwrapExports(fs_1$1);var fs_2=fs_1$1.FILE_SYSTEM_ADAPTER,fs_3=fs_1$1.createFileSystemAdapter,settings=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=fs_1$1.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e===void 0?t:e}}});unwrapExports(settings);var out=createCommonjsModule(function(e,t){function n(e={}){return e instanceof settings.default?e:new settings.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=settings.default,t.stat=function(e,t,a){return"function"==typeof t?async.read(e,n(),t):void async.read(e,n(t),a)},t.statSync=function(e,t){const a=n(t);return sync.read(e,a)}});unwrapExports(out);var out_1=out.Settings,out_2=out.stat,out_3=out.statSync,runParallel_1=runParallel;function runParallel(e,t){function n(e){function n(){t&&t(e,s),t=null}o?process.nextTick(n):n()}function a(e,t,a){s[e]=a,(0==--r||t)&&n(t)}var s,r,i,o=!0;Array.isArray(e)?(s=[],r=e.length):(i=Object.keys(e),s={},r=i.length),r?i?i.forEach(function(t){e[t](function(e,n){a(t,e,n)})}):e.forEach(function(e,t){e(function(e,n){a(t,e,n)})}):n(null),o=!1}var constants$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=process.versions.node.split("."),a=parseInt(n[0],10),s=parseInt(n[1],10);t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=10<a||10===a&&10<=s});unwrapExports(constants$2);var constants_1=constants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES,fs$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new n(e,t)}});unwrapExports(fs$1);var fs_1$2=fs$1.createDirentFromStats,utils$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fs=fs$1});unwrapExports(utils$3);var utils_1$3=utils$3.fs,async$1=createCommonjsModule(function(e,t){function n(e,t,n){t.fs.readdir(e,{withFileTypes:!0},(s,o)=>{if(s)return r(n,s);const l=o.map(n=>({dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`}));if(!t.followSymbolicLinks)return i(n,l);const p=l.map(e=>a(e,t));runParallel_1(p,(e,t)=>e?r(n,e):void i(n,t))})}function a(e,t){return n=>e.dirent.isSymbolicLink()?void t.fs.stat(e.path,(a,s)=>a?t.throwErrorOnBrokenSymbolicLink?n(a):n(null,e):(e.dirent=utils$3.fs.createDirentFromStats(e.name,s),n(null,e))):n(null,e)}function s(e,t,n){t.fs.readdir(e,(a,s)=>{if(a)return r(n,a);const o=s.map(n=>`${e}${t.pathSegmentSeparator}${n}`),l=o.map(e=>n=>out.stat(e,t.fsStatSettings,n));runParallel_1(l,(e,a)=>{if(e)return r(n,e);const l=[];for(let n=0;n<s.length;n++){const e=s[n],r=a[n],i={name:e,path:o[n],dirent:utils$3.fs.createDirentFromStats(e,r)};t.stats&&(i.stats=r),l.push(i)}i(n,l)})})}function r(e,t){e(t)}function i(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t,a){return!t.stats&&constants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES?n(e,t,a):s(e,t,a)},t.readdirWithFileTypes=n,t.readdir=s});unwrapExports(async$1);var async_1$1=async$1.read,async_2=async$1.readdirWithFileTypes,async_3=async$1.readdir,sync$1=createCommonjsModule(function(e,t){function n(e,t){const n=t.fs.readdirSync(e,{withFileTypes:!0});return n.map(n=>{const a={dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`};if(a.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(a.path);a.dirent=utils$3.fs.createDirentFromStats(a.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return a})}function a(e,t){const n=t.fs.readdirSync(e);return n.map(n=>{const a=`${e}${t.pathSegmentSeparator}${n}`,s=out.statSync(a,t.fsStatSettings),r={name:n,path:a,dirent:utils$3.fs.createDirentFromStats(n,s)};return t.stats&&(r.stats=s),r})}Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t){return!t.stats&&constants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES?n(e,t):a(e,t)},t.readdirWithFileTypes=n,t.readdir=a});unwrapExports(sync$1);var sync_1$1=sync$1.read,sync_2=sync$1.readdirWithFileTypes,sync_3=sync$1.readdir,fs_1$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_SYSTEM_ADAPTER={lstat:fs$2__default.lstat,stat:fs$2__default.stat,lstatSync:fs$2__default.lstatSync,statSync:fs$2__default.statSync,readdir:fs$2__default.readdir,readdirSync:fs$2__default.readdirSync},t.createFileSystemAdapter=function(e){return e?Object.assign({},t.FILE_SYSTEM_ADAPTER,e):t.FILE_SYSTEM_ADAPTER}});unwrapExports(fs_1$3);var fs_2$1=fs_1$3.FILE_SYSTEM_ADAPTER,fs_3$1=fs_1$3.createFileSystemAdapter,settings$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=fs_1$3.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,path.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new out.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e===void 0?t:e}}});unwrapExports(settings$1);var out$1=createCommonjsModule(function(e,t){function n(e={}){return e instanceof settings$1.default?e:new settings$1.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=settings$1.default,t.scandir=function(e,t,a){return"function"==typeof t?async$1.read(e,n(),t):void async$1.read(e,n(t),a)},t.scandirSync=function(e,t){const a=n(t);return sync$1.read(e,a)}});unwrapExports(out$1);var out_1$1=out$1.Settings,out_2$1=out$1.scandir,out_3$1=out$1.scandirSync;function reusify(e){function t(){var t=a;return t.next?a=t.next:(a=new e,s=a),t.next=null,t}function n(e){s.next=e,s=e}var a=new e,s=a;return{get:t,release:n}}var reusify_1=reusify;function fastqueue(e,t,n){function a(){return _}function s(){for(var e=u,t=0;e;)e=e.next,t++;return t}function r(){if(g.paused){g.paused=!1;for(var e=0;e<g.concurrency;e++)_++,p()}}function i(){return 0==_&&0===g.length()}function o(n,a){var s=d.get();s.context=e,s.release=p,s.value=n,s.callback=a||noop,_===g.concurrency||g.paused?c?(c.next=s,c=s):(u=s,c=s,g.saturated()):(_++,t.call(e,s.value,s.worked))}function l(n,a){var s=d.get();s.context=e,s.release=p,s.value=n,s.callback=a||noop,_===g.concurrency||g.paused?u?(s.next=u,u=s):(u=s,c=s,g.saturated()):(_++,t.call(e,s.value,s.worked))}function p(n){n&&d.release(n);var a=u;a?g.paused?_--:(c===u&&(c=null),u=a.next,a.next=null,t.call(e,a.value,a.worked),null===c&&g.empty()):0==--_&&g.drain()}"function"==typeof e&&(n=t,t=e,e=null);var d=reusify_1(Task),u=null,c=null,_=0,g={push:o,drain:noop,saturated:noop,pause:function(){g.paused=!0},paused:!1,concurrency:n,running:a,resume:r,idle:i,length:s,unshift:l,empty:noop,kill:function(){u=null,c=null,g.drain=noop},killAndDrain:function(){u=null,c=null,g.drain(),g.drain=noop}};return g}function noop(){}function Task(){this.value=null,this.callback=noop,this.next=null,this.release=noop,this.context=null;var e=this;this.worked=function(t,n){var a=e.callback;e.value=null,e.callback=noop,a.call(e.context,t,n),e.release(e)}}var queue=fastqueue,common=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFatalError=function(e,t){return!(null!==e.errorFilter)||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[\\\/]/).join(t)},t.joinPathSegments=function(e,t,n){return""===e?t:e+n+t}});unwrapExports(common);var common_1=common.isFatalError,common_2=common.isAppliedFilter,common_3=common.replacePathSegmentSeparator,common_4=common.joinPathSegments,reader=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=common.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}});unwrapExports(reader);var async$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends reader.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=out$1.scandir,this._emitter=new events.EventEmitter,this._queue=queue(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){this._queue.push({dir:e,base:t},e=>{e&&this._handleError(e)})}_worker(e,t){this._scandir(e.dir,this._settings.fsScandirSettings,(n,a)=>{if(n)return t(n,void 0);for(const t of a)this._handleEntry(t,e.base);t(null,void 0)})}_handleError(e){common.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(!(this._isDestroyed||this._isFatalError)){const n=e.path;void 0!==t&&(e.path=common.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),common.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&common.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}}_emitEntry(e){this._emitter.emit("entry",e)}}t.default=n});unwrapExports(async$2);var async$3=createCommonjsModule(function(e,t){function n(e,t){e(t)}function a(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new async$2.default(this._root,this._settings),this._storage=new Set}read(e){this._reader.onError(t=>{n(e,t)}),this._reader.onEntry(e=>{this._storage.add(e)}),this._reader.onEnd(()=>{a(e,Array.from(this._storage))}),this._reader.read()}}});unwrapExports(async$3);var stream$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new async$2.default(this._root,this._settings),this._stream=new Stream.Readable({objectMode:!0,read:()=>{},destroy:this._reader.destroy.bind(this._reader)})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}});unwrapExports(stream$1);var sync$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends reader.default{constructor(){super(...arguments),this._scandir=out$1.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),Array.from(this._storage)}_pushToQueue(e,t){this._queue.add({dir:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.dir,e.base)}_handleDirectory(e,t){try{const n=this._scandir(e,this._settings.fsScandirSettings);for(const e of n)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(common.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const n=e.path;t!==void 0&&(e.path=common.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),common.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&common.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}_pushToStorage(e){this._storage.add(e)}}t.default=n});unwrapExports(sync$2);var sync$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new sync$2.default(this._root,this._settings)}read(){return this._reader.read()}}});unwrapExports(sync$3);var settings$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,path.sep),this.fsScandirSettings=new out$1.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e===void 0?t:e}}});unwrapExports(settings$2);var out$2=createCommonjsModule(function(e,t){function n(e={}){return e instanceof settings$2.default?e:new settings$2.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=settings$2.default,t.walk=function(e,t,a){return"function"==typeof t?new async$3.default(e,n()).read(t):void new async$3.default(e,n(t)).read(a)},t.walkSync=function(e,t){const a=n(t),s=new sync$3.default(e,a);return s.read()},t.walkStream=function(e,t){const a=n(t),s=new stream$1.default(e,a);return s.read()}});unwrapExports(out$2);var out_1$2=out$2.Settings,out_2$2=out$2.walk,out_3$2=out$2.walkSync,out_4=out$2.walkStream,reader$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._settings=e,this._fsStatSettings=new out.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return path.resolve(this._settings.cwd,e)}_makeEntry(e,t){const n={name:t,path:t,dirent:utils$2.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!utils$2.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}});unwrapExports(reader$1);var stream$2=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends reader$1.default{constructor(){super(...arguments),this._walkStream=out$2.walkStream,this._stat=out.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const n=e.map(this._getFullEntryPath,this),a=new Stream.PassThrough({objectMode:!0});a._write=(s,r,i)=>this._getEntry(n[s],e[s],t).then(e=>{null!==e&&t.entryFilter(e)&&a.push(e),s===n.length-1&&a.end(),i()}).catch(i);for(let s=0;s<n.length;s++)a.write(s);return a}_getEntry(e,t,n){return this._getStat(e).then(e=>this._makeEntry(e,t)).catch(e=>{if(n.errorFilter(e))return null;throw e})}_getStat(e){return new Promise((t,n)=>{this._stat(e,this._fsStatSettings,(e,a)=>{e?n(e):t(a)})})}}t.default=n});unwrapExports(stream$2);var deep=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){const a=this._getMaxPatternDepth(t),s=this._getNegativePatternsRe(n);return t=>this._filter(e,t,s,a)}_getMaxPatternDepth(e){const t=e.some(utils$2.pattern.hasGlobStar);return t?1/0:utils$2.pattern.getMaxNaivePatternsDepth(e)}_getNegativePatternsRe(e){const t=e.filter(utils$2.pattern.isAffectDepthOfReadingPattern);return utils$2.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,n,a){const s=this._getEntryDepth(e,t.path);return!this._isSkippedByDeep(s)&&!this._isSkippedByMaxPatternDepth(s,a)&&!this._isSkippedSymbolicLink(t)&&!this._isSkippedDotDirectory(t)&&this._isSkippedByNegativePatterns(t,n)}_getEntryDepth(e,t){const n=e.split("/").length,a=t.split("/").length;return a-(""===e?0:n)}_isSkippedByDeep(e){return e>=this._settings.deep}_isSkippedByMaxPatternDepth(e,t){return!this._settings.baseNameMatch&&t!==1/0&&e>t}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedDotDirectory(e){return!this._settings.dot&&e.name.startsWith(".")}_isSkippedByNegativePatterns(e,t){return!utils$2.pattern.matchAny(e.path,t)}}});unwrapExports(deep);var entry=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const n=utils$2.pattern.convertPatternsToRe(e,this._micromatchOptions),a=utils$2.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,n,a)}_filter(e,t,n){if(this._settings.unique){if(this._isDuplicateEntry(e))return!1;this._createIndexRecord(e)}if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e,n))return!1;const a=this._settings.baseNameMatch?e.name:e.path;return this._isMatchToPatterns(a,t)&&!this._isMatchToPatterns(e.path,n)}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const n=utils$2.path.makeAbsolute(this._settings.cwd,e.path);return this._isMatchToPatterns(n,t)}_isMatchToPatterns(e,t){return utils$2.pattern.matchAny(e,t)}}});unwrapExports(entry);var error=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return utils$2.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}});unwrapExports(error);var entry$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=utils$2.path.makeAbsolute(this._settings.cwd,t),t=utils$2.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign({},e,{path:t}):t}}});unwrapExports(entry$1);var provider=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._settings=e,this.errorFilter=new error.default(this._settings),this.entryFilter=new entry.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new deep.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new entry$1.default(this._settings)}_getRootDirectory(e){return path.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}});unwrapExports(provider);var async$4=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends provider.default{constructor(){super(...arguments),this._reader=new stream$2.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),a=[];return new Promise((s,r)=>{const i=this.api(t,e,n);i.once("error",r),i.on("data",e=>a.push(n.transform(e))),i.once("end",()=>s(a))})}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=n});unwrapExports(async$4);var stream$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends provider.default{constructor(){super(...arguments),this._reader=new stream$2.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),a=this.api(t,e,n),s=new Stream.Readable({objectMode:!0,read:()=>{}});return a.once("error",e=>s.emit("error",e)).on("data",e=>s.emit("data",n.transform(e))).once("end",()=>s.emit("end")),s}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=n});unwrapExports(stream$3);var sync$4=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends reader$1.default{constructor(){super(...arguments),this._walkSync=out$2.walkSync,this._statSync=out.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const n=[];for(const a of e){const e=this._getFullEntryPath(a),s=this._getEntry(e,a,t);null!==s&&t.entryFilter(s)&&n.push(s)}return n}_getEntry(e,t,n){try{const n=this._getStat(e);return this._makeEntry(n,t)}catch(e){if(n.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}t.default=n});unwrapExports(sync$4);var sync$5=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends provider.default{constructor(){super(...arguments),this._reader=new sync$4.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),a=this.api(t,e,n);return a.map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}t.default=n});unwrapExports(sync$5);var settings$3=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=os.cpus().length;t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:fs$2__default.lstat,lstatSync:fs$2__default.lstatSync,stat:fs$2__default.stat,statSync:fs$2__default.statSync,readdir:fs$2__default.readdir,readdirSync:fs$2__default.readdirSync};t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,n),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return e===void 0?t:e}_getFileSystemMethods(e={}){return Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER,e)}}});unwrapExports(settings$3);var settings_1=settings$3.DEFAULT_FILE_SYSTEM_ADAPTER;function FastGlob(e,t){try{assertPatternsInput(e)}catch(e){return Promise.reject(e)}const n=getWorks(e,async$4.default,t);return Promise.all(n).then(utils$2.array.flatten)}(function(e){e.sync=function(e,t){assertPatternsInput(e);const n=getWorks(e,sync$5.default,t);return utils$2.array.flatten(n)},e.stream=function(e,t){assertPatternsInput(e);const n=getWorks(e,stream$3.default,t);return utils$2.stream.merge(n)},e.generateTasks=function(e,t){assertPatternsInput(e);const n=[].concat(e),a=new settings$3.default(t);return tasks.generate(n,a)}})(FastGlob||(FastGlob={}));function getWorks(e,t,n){const a=[].concat(e),s=new settings$3.default(n),r=tasks.generate(a,s),i=new t(s);return r.map(i.read,i)}function assertPatternsInput(e){if(![].concat(e).every(isString))throw new TypeError("Patterns must be a string or an array of strings")}function isString(e){return"string"==typeof e}var out$3=FastGlob;function readGlob(e,t=["ts","html"]){const n=`${e}/**/*.(${t.join("|")})`;return out$3(n)}function getTranslationFiles(e){return readGlob(e,["json"])}function getProjectFiles(e){return readGlob(e,["ts","html"])}function parseFile(e){const t=fs$2.readFileSync(e,{encoding:"utf8"}),n=t.match(/({{)?( )*(\'|\")((\w|\-)\.?)*(\'|\")( )*\|( )*translate( )*(}})?/g);let a=[];return n&&0<n.length&&(a=n.map(e=>e.match(/(\'|\")(.*)?(\'|\")/)[2])),a}function parseTranslation(e){const t=fs$2.readFileSync(e,{encoding:"utf8"});return flattenObject(JSON.parse(t))}function flattenObject(e,t,n={}){for(let a in e){let s=t?t+"."+a:a;"object"==typeof e[a]?flattenObject(e[a],s,n):n[s]=e[a]}return n}function writeJsonOrStdout$1(e,t){if(console.log(""),e){let n=e;e.endsWith(".json")||(console.log("Appending .json to output file name."),n=n.concat(".json")),fs$2.writeFile(n,JSON.stringify(t,null,"\t"),()=>{console.log(`Results were written to "${n}" file.`)})}else console.log(t)}const inputFilesMap=new Map,translationsMap=new Map;function mapAddString(e,t){const n=e.get(t);n?e.set(t,n+1):e.set(t,1)}function mapAddTranslationString(e,t,n){let a=e.get(t);a||(e.set(t,new Map),a=e.get(t)),mapAddString(a,n)}function mapToObj(e){let t={};for(let[n,a]of e)t[n]=a;return t}function translationMapToObj(e){let t={};for(let[n,a]of e)t[n]=mapToObj(a);return t}function files$1(e){e.command("files <path>").option("--i18n <folder>","i18n translation files folder inside project.","src/assets/i18n").option("--i18nPath <path>","Path to translation folder if files are outside project.").option("--json <path>","Save output to <path> file.").description("Parses project files and i18n files to find amount of usage of i18n strings, outputting to stdout or a json file.").action((e,t)=>{const n={projectPath:e,i18nPath:t.i18nPath?t.i18nPath:path.join(e,t.i18n)};console.log(`Project path: "${n.projectPath}".`),console.log(`i18n folder: "${n.i18nPath}".`);const a=[getProjectFiles(n.projectPath),getTranslationFiles(n.i18nPath)];Promise.all(a).then(([e,n])=>{console.log(`Total project files found: ${e.length}`),console.log(`Total translation files found: ${n.length}`),parseProjectFiles(e),console.log(""),parseTranslationFiles(n);const a={inputFiles:mapToObj(inputFilesMap),translationFiles:translationMapToObj(translationsMap)};console.log(""),writeJsonOrStdout(t.json,a)})})}function parseProjectFiles(e){console.log("\nStarting to parse project files..."),marky.mark("parse-project-files"),e.forEach(e=>{const t=parseFile(e);t.forEach(e=>mapAddString(inputFilesMap,e))});const t=marky.stop("parse-project-files");console.log(`Finished parsing project files in ${t.duration.toFixed(3)}ms.`),console.log(`Total unique translation keys used in project files: ${inputFilesMap.size}`);let n=0;for(const t of inputFilesMap.entries())n+=t[1];console.log(`Total translations used in project files: ${n}`)}function parseTranslationFiles(e){console.log("Starting to parse translation files..."),marky.mark("parse-translation-files"),e.forEach(e=>{const t=parseTranslation(e);console.log(`Parsed '${e}' for ${Object.keys(t).length} translation strings.`);const n=Object.keys(t);n.forEach(t=>mapAddTranslationString(translationsMap,e,t))});const t=marky.stop("parse-translation-files");console.log(`Finished parsing translation files in ${t.duration.toFixed(3)}ms.`)}function isObj(e){return e===Object(e)&&!Array.isArray(e)}function deepValue(e,t){let n=e;return t.every(function(e){const t=Object.prototype.hasOwnProperty.call(n,e);return n=n[e],t}),n}function seekDiffs(e,t,n,a){return Object.keys(e).forEach(function(s){const r=a.concat(s);if(!isObj(e[s])){const e=deepValue(t,r);"undefined"==typeof e&&n.push(r)}else return seekDiffs(e[s],t,n,r);return!0}),n}function keysDiff(e,t){if(!isObj(e)||!isObj(t))throw Error("Both arguments should be objects!");return[seekDiffs(e,t,[],[]),seekDiffs(t,e,[],[])]}var keysDiff_1=keysDiff;function diff(e){e.command("diff <path>").option("--base <index>","Diff to language with base <index>. Negative index compares all languages.",0).option("--json <path>","Save output to <path> file.").description("Receives a JSON file generated by the files command and shows difference between translation files (missing strings).").action((e,t)=>{const n={file:e,base:t.base};fs$2.readFile(n.file,"utf-8",(a,e)=>{const s=JSON.parse(e).translationFiles,r=[];for(const t in s)s.hasOwnProperty(t)&&r.push(t);let i;i=0>n.base?allLanguagesDiff(r,s):baseLanguageDiff(r,s,n.base),writeJsonOrStdout$1(t.json,i)})})}function diff$1(e,t,n){const a=e[n],s=[];return e.forEach((e,r)=>{if(r!==n){console.log(`Getting difference between ${a} and ${e}.`);const n=keysDiff_1(t[a],t[e]),r={};r[`base ${a}`]=n[0],r[`compare with ${e}`]=n[1],s.push(r)}}),s}function baseLanguageDiff(e,t,n){return diff$1(e,t,n)[0]}function allLanguagesDiff(e,t){const n=[];for(let a=0;a<e.length;)n.push(diff$1(e,t,a++));return n}function commandBuilder(e){files$1(e),diff(e)}const program=new commander.Command;program.version(pkg.version),program.description(pkg.description),commandBuilder(program),program.parse(process.argv);
